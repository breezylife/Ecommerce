(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{146:function(e,t,c){},449:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(133),r=c.n(n),s=c(6),i=c(7),o=c(21),l=c(3),j=c(4),d="http://localhost:8000/api",b=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},u=c(0),m=function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}},h=Object(i.g)((function(e){var t=e.history;return Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{className:"nav nav-tabs bg-primary",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.b,{className:"nav-link",style:m(t,"/"),to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.b,{className:"nav-link",style:m(t,"/shop"),to:"/shop",children:"Shop"})}),b()&&0===b().user.role&&Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.b,{className:"nav-link",style:m(t,"/user/dashboard"),to:"/user/dashboard",children:"Dashboard"})}),b()&&1===b().user.role&&Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.b,{className:"nav-link",style:m(t,"/admin/dashboard"),to:"/admin/dashboard",children:"Dashboard"})}),!b()&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.b,{className:"nav-link",style:m(t,"/Signin"),to:"/Signin",children:"Signin"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(s.b,{className:"nav-link",style:m(t,"/Signup"),to:"/Signup",children:"Signup"})})]}),b()&&Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("span",{className:"nav-link",style:{cursor:"pointer",color:"#ffffff"},onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(d,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))},children:"Signout"})})]})})})),O=(c(146),function(e){var t=e.title,c=void 0===t?"":t,a=e.description,n=void 0===a?"":a,r=e.className,s=e.children;return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"jumbotron",children:[Object(u.jsx)("h2",{children:c}),Object(u.jsx)("p",{className:"lead",children:n})]}),Object(u.jsx)("div",{className:r,children:s})]})}),p=(c(147),function(){var e=Object(a.useState)({email:"ps102646@gmail.com",password:"ps102640",error:"",loading:!1,redirectToReferrer:!1}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=c.email,s=c.password,m=c.loading,h=c.error,p=c.redirectToReferrer,x=b().user,f=function(e){return function(t){n(Object(l.a)(Object(l.a)({},c),{},Object(o.a)({error:!1},e,t.target.value)))}},g=function(e){e.preventDefault(),n(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),function(e){return fetch("".concat(d,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:r,password:s}).then((function(e){e.error?n(Object(l.a)(Object(l.a)({},c),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){n(Object(l.a)(Object(l.a)({},c),{},{redirectToReferrer:!0}))}))}))};return Object(u.jsxs)(O,{title:"Signin Page",description:"React",className:"container col-md-8 offset-md-2",children:[m&&Object(u.jsx)("div",{className:"alert alert-info",children:Object(u.jsx)("h2",{children:"loading..."})}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:h?"":"none"},children:h}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Email"}),Object(u.jsx)("input",{type:"email",value:r,onChange:f("email"),className:"form-control"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Password"}),Object(u.jsx)("input",{type:"password",value:s,onChange:f("password"),className:"form-control"})]}),Object(u.jsx)("button",{onClick:g,className:"btn btn-primary",children:"Submit"})]}),p?x&&1===x.role?Object(u.jsx)(i.a,{to:"/admin/dashboard"}):Object(u.jsx)(i.a,{to:"/user/dashboard"}):b()?Object(u.jsx)(i.a,{to:"/"}):void 0]})}),x=function(){var e=Object(a.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=c.name,i=c.email,b=c.password,m=c.success,h=c.error,p=function(e){return function(t){n(Object(l.a)(Object(l.a)({},c),{},Object(o.a)({error:!1},e,t.target.value)))}},x=function(e){var t;e.preventDefault(),n(Object(l.a)(Object(l.a)({},c),{},{error:!1})),(t={name:r,email:i,password:b},fetch("".concat(d,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?n(Object(l.a)(Object(l.a)({},c),{},{error:e.error,success:!1})):n(Object(l.a)(Object(l.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return Object(u.jsxs)(O,{title:"Signup Page",description:"React",className:"container col-md-8 offset-md-2",children:[Object(u.jsxs)("div",{className:"alert alert-info",style:{display:m?"":"none"},children:["New account is created. Please ",Object(u.jsx)(s.b,{to:"/signin",children:"signin"})]}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:h?"":"none"},children:h}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{type:"text",value:r,onChange:p("name"),className:"form-control"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Email"}),Object(u.jsx)("input",{type:"email",value:i,onChange:p("email"),className:"form-control"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Password"}),Object(u.jsx)("input",{type:"password",value:b,onChange:p("password"),className:"form-control"})]}),Object(u.jsx)("button",{onClick:x,className:"btn btn-primary",children:"Submit"})]})]})},f=c(136),g=c.n(f),N=function(e){return fetch("".concat(d,"/products?sortBy=").concat(e,"&order=desc&limit=6"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},v=function(){return fetch("".concat(d,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},y=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={skip:e,limit:t,filters:c};return fetch("".concat(d,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},S=function(e){var t=e.item,c=e.url;return Object(u.jsx)("div",{className:"product-img",children:Object(u.jsx)("img",{src:"".concat(d,"/").concat(c,"/photo/").concat(t._id),alt:t.name,className:"mb-3",style:{maxHeight:"100%",maxWidth:"100%"}})})},w=function(e){var t=e.product;return Object(u.jsx)("div",{className:"col-4 mb-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:t.name}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(S,{item:t,url:"product"}),Object(u.jsx)("p",{children:t.description.substring(0,50)}),Object(u.jsxs)("p",{children:["$",t.price]}),Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("button",{className:"btn btn-outline-primary mt-2 mb-2 mr-2",children:"View Product"})}),Object(u.jsx)("button",{className:"btn btn-outline-warning mt-2 mb-2",children:"Add to card"})]})]})})},C=function(){var e=Object(a.useState)({categories:[],category:"",search:"",results:[],searched:!1}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=c.categories,s=c.category,i=c.search,b=c.results,m=c.searched;Object(a.useEffect)((function(){v().then((function(e){e.error?console.log(e.error):n(Object(l.a)(Object(l.a)({},e),{},{categories:e}))}))}),[]);var h=function(){i&&function(e){var t=g.a.stringify(e);return fetch("".concat(d,"/products/search?").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({search:i||void 0,category:s}).then((function(e){e.error?console.log(e.error):n(Object(l.a)(Object(l.a)({},c),{},{results:e,searched:!0}))}))},O=function(e){e.preventDefault(),h()},p=function(e){return function(t){var a;n(Object(l.a)(Object(l.a)({},c),{},(a={},Object(o.a)(a,e,t.target.value),Object(o.a)(a,"searched",!1),a)))}},x=function(e,t){return e&&t.length>0?"Found ".concat(t.length," products"):e&&t.length<1?"No products found":void 0};return Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"container mb-3",children:Object(u.jsx)("form",{onSubmit:O,children:Object(u.jsxs)("span",{className:"input-group-text",children:[Object(u.jsxs)("div",{className:"input-group input-group-lg",children:[Object(u.jsx)("div",{className:"input-group-prepend",children:Object(u.jsxs)("select",{className:"btn mr-2",onChange:p("category"),children:[Object(u.jsx)("option",{value:"All",children:"Pick Category"}),r.map((function(e,t){return Object(u.jsx)("option",{value:e._id,children:e.name},t)}))]})}),Object(u.jsx)("input",{type:"search",className:"form-control",onChange:p("search"),placeholder:"Search by name"})]}),Object(u.jsx)("div",{className:"btn input-group-append",style:{border:"none"},children:Object(u.jsx)("button",{className:"input-group-text",children:"Search"})})]})})}),Object(u.jsx)("div",{className:"container-fluid mb-3",children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"mr-4 mb-4",children:x(m,e)}),Object(u.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(u.jsx)(w,{product:e},t)}))})]})}(b)})]})},k=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=(d[0],d[1]);return Object(a.useEffect)((function(){N("createdAt").then((function(e){e.error?b(e.error):o(e)})),N("sold").then((function(e){e.error?b(e.error):n(e)}))}),[]),Object(u.jsxs)(O,{title:"Home Page",description:"React",className:"container-fluid",children:[Object(u.jsx)(C,{}),Object(u.jsx)("h2",{className:"mb-4",children:"New Arrivals"}),Object(u.jsx)("div",{className:"row",children:i.map((function(e,t){return Object(u.jsx)(w,{product:e},t)}))}),Object(u.jsx)("h2",{className:"mb-4",children:"Best Sellers"}),Object(u.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(u.jsx)(w,{product:e},t)}))})]})},P=c(59),T=function(e){var t=e.component,c=Object(P.a)(e,["component"]);return Object(u.jsx)(i.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return b()?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},_=function(e){var t=e.component,c=Object(P.a)(e,["component"]);return Object(u.jsx)(i.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return b()&&1===b().user.role?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},A=function(){var e=b().user,t=(e._id,e.name),c=e.email,a=e.role;return Object(u.jsx)(O,{title:"Dashboard",description:"Hello ".concat(t,"!"),className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h4",{className:"card-header",children:"User Links"}),Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(s.b,{className:"nav-link",to:"/cart",children:"My Cart"})}),Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(s.b,{className:"nav-link",to:"/profile/update",children:"Update Profile"})})]})]})}),Object(u.jsxs)("div",{className:"col-9",children:[Object(u.jsxs)("div",{className:"card mb-5",children:[Object(u.jsx)("h3",{className:"card-header",children:"User Information"}),Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsx)("li",{className:"list-group-item",children:t}),Object(u.jsx)("li",{className:"list-group-item",children:c}),Object(u.jsx)("li",{className:"list-group-item",children:1===a?"Admin":"Registerd User"})]})]}),Object(u.jsxs)("div",{className:"card mb-5",children:[Object(u.jsx)("h3",{className:"card-header",children:"Purchase history"}),Object(u.jsx)("ul",{className:"list-group",children:Object(u.jsx)("li",{className:"list-group-item",children:"history"})})]})]})]})})},D=function(){var e=b().user,t=(e._id,e.name),c=e.email,a=e.role;return Object(u.jsx)(O,{title:"Dashboard",description:"Hello ".concat(t,"!"),className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-3",children:[" ",Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("h4",{className:"card-header",children:"Admin Links"}),Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(s.b,{className:"nav-link",to:"/create/category",children:"Create Category"})}),Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsx)(s.b,{className:"nav-link",to:"/create/product",children:"Create Product"})})]})]})," "]}),Object(u.jsxs)("div",{className:"col-9",children:[" ",Object(u.jsxs)("div",{className:"card mb-5",children:[Object(u.jsx)("h3",{className:"card-header",children:"User Information"}),Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsx)("li",{className:"list-group-item",children:t}),Object(u.jsx)("li",{className:"list-group-item",children:c}),Object(u.jsx)("li",{className:"list-group-item",children:1===a?"Admin":"Registerd User"})]})]})," "]})]})})},E=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],l=i[1],m=Object(a.useState)(!1),h=Object(j.a)(m,2),p=h[0],x=h[1],f=b(),g=f.user,N=f.token,v=function(e){l(""),n(e.target.value)},y=function(e){e.preventDefault(),l(""),x(!1),function(e,t,c){return fetch("".concat(d,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(g._id,N,{name:c}).then((function(e){e.error?l(e.error):(l(""),x(!0))}))};return Object(u.jsx)(O,{title:"Add a new category",description:"Hello ".concat(g.name,", ready to add a new category"),children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-8 offset-md-2",children:[function(){if(p)return Object(u.jsxs)("h3",{className:"text-success",children:[c," is created"]})}(),function(){if(o)return Object(u.jsx)("h3",{className:"text-danger",children:"Category is should be unique"})}(),Object(u.jsxs)("form",{onSubmit:y,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{type:"text",className:"form-control",onChange:v,value:c,autoFocus:!0})]}),Object(u.jsx)("button",{className:"btn btn-outline-primary",children:"Create Category"})]}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsx)(s.b,{to:"/admin/dashboard",className:"text-warning",children:"Back to Dashboard"})})]})})})},$=function(){var e=Object(a.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:""}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=b(),s=r.user,i=r.token,m=c.name,h=c.description,p=c.price,x=c.categories,f=(c.category,c.shipping,c.quantity),g=(c.photo,c.loading),N=c.error,v=c.createdProduct,y=(c.redirectToProfile,c.formData),S=function(){fetch("".concat(d,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?n(Object(l.a)(Object(l.a)({},c),{},{error:e.error})):n(Object(l.a)(Object(l.a)({},c),{},{categories:e,formData:new FormData}))}))};Object(a.useEffect)((function(){S()}),[]);var w=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;y.set(e,a),n(Object(l.a)(Object(l.a)({},c),{},Object(o.a)({},e,a)))}},C=function(e){e.preventDefault(),n(Object(l.a)(Object(l.a)({},c),{},{error:"",loading:!0})),function(e,t,c){return fetch("".concat(d,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(s._id,i,y).then((function(e){e.error?n(Object(l.a)(Object(l.a)({},c),{},{error:e.error})):n(Object(l.a)(Object(l.a)({},c),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,createdProduct:e.name}))}))};return Object(u.jsx)(O,{title:"Add a new product",description:"Hello ".concat(s.name,", ready to add a new product"),children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-8 offset-md-2",children:[g&&Object(u.jsx)("div",{className:"alert alert-success",children:Object(u.jsx)("h2",{children:"loading..."})}),Object(u.jsx)("div",{className:"alert alert-info",style:{display:v?"":"none"},children:Object(u.jsxs)("h2",{children:["".concat(v)," is created !"]})}),Object(u.jsx)("div",{className:"alert alert-danger",style:{display:N?"":"none"},children:N}),Object(u.jsxs)("form",{onSubmit:C,className:"mb-3",children:[Object(u.jsx)("h4",{children:"Post Photo"}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("label",{className:"btn btn-secondary",children:Object(u.jsx)("input",{onChange:w("photo"),type:"file",name:"photo",accept:"image/*"})})}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Name"}),Object(u.jsx)("input",{onChange:w("name"),type:"text",className:"form-control",value:m})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Description"}),Object(u.jsx)("textarea",{onChange:w("description"),className:"form-control",value:h})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Price"}),Object(u.jsx)("input",{onChange:w("price"),type:"number",className:"form-control",value:p})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Category"}),Object(u.jsxs)("select",{onChange:w("category"),className:"form-control",children:[Object(u.jsx)("option",{children:"Please select"}),x&&x.map((function(e,t){return Object(u.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Shipping"}),Object(u.jsxs)("select",{onChange:w("shipping"),className:"form-control",children:[Object(u.jsx)("option",{value:"0",children:"No"}),Object(u.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Quantity"}),Object(u.jsx)("input",{onChange:w("quantity"),type:"number",className:"form-control",value:f})]}),Object(u.jsx)("button",{className:"btn btn-outline-primary",children:"Create Product"})]})]})})})},F=c(48),I=[{_id:0,name:"Any",array:[]},{_id:1,name:"$0 to $9",array:[0,9]},{_id:2,name:"$10 to $19",array:[10,19]},{_id:3,name:"$20 to $29",array:[20,29]},{_id:4,name:"$30 to $39",array:[30,39]},{_id:5,name:"$More than $40",array:[40,1e8]}],J=function(e){var t=e.categories,c=e.handleFilters,n=Object(a.useState)([]),r=Object(j.a)(n,2),s=r[0],i=r[1],o=function(e){return function(){var t=s.indexOf(e),a=Object(F.a)(s);-1===t?a.push(e):a.splice(t,1),i(a),c(a)}};return t.map((function(e,t){return Object(u.jsxs)("li",{className:"list-unstyled",children:[Object(u.jsx)("input",{type:"checkbox",className:"form-check-input",value:s.indexOf(-1===e._id),onChange:o(e._id)}),Object(u.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))},R=function(e){var t=e.prices,c=e.handleFilters,n=Object(a.useState)(0),r=Object(j.a)(n,2),s=(r[0],r[1]),i=function(e){c(e.target.value),s(e.target.value)};return t.map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",className:"mr-2 ml-4",name:e,value:"".concat(e._id),onChange:i}),Object(u.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))},H=function(){var e=Object(a.useState)({filters:{category:[],price:[]}}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(j.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),m=(b[0],b[1]),h=Object(a.useState)(6),p=Object(j.a)(h,2),x=p[0],f=(p[1],Object(a.useState)(0)),g=Object(j.a)(f,2),N=g[0],S=g[1],C=Object(a.useState)(0),k=Object(j.a)(C,2),P=k[0],T=k[1],_=Object(a.useState)([]),A=Object(j.a)(_,2),D=A[0],E=A[1],$=function(e){y(N,x,e).then((function(e){e.error?m(e.error):(console.log(e.data),E(e.data),T(e.size),S(0))}))},H=function(){var e=N+x;y(e,x,c.filters).then((function(t){t.error?m(t.error):(E([].concat(Object(F.a)(D),Object(F.a)(t.data))),T(t.size),S(e))}))};Object(a.useEffect)((function(){v().then((function(e){e.error?m(e.error):o(e)})),$(N,c.filters)}),[]);var B=function(e,t){var a=Object(l.a)({},c);if(a.filters[t]=e,"price"===t){var r=U(e);a.filters[t]=r}$(c.filters),n(a)},U=function(e){var t=I,c=t.find((function(t){return t._id===parseInt(e)}));return t[c._id].array};return Object(u.jsx)(O,{title:"Shop Page",description:"Search and find books of your choice",className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-4",children:[Object(u.jsx)("h4",{children:"Filter by categories"}),Object(u.jsx)("ul",{children:Object(u.jsx)(J,{categories:i,handleFilters:function(e){return B(e,"category")}})}),Object(u.jsx)("h4",{children:"Filter by prices range"}),Object(u.jsx)("div",{children:Object(u.jsx)(R,{prices:I,handleFilters:function(e){return B(e,"price")}})})]}),Object(u.jsxs)("div",{className:"col-8",children:[Object(u.jsx)("h2",{className:"mb-4",children:"Products"}),Object(u.jsx)("div",{className:"row",children:D.map((function(e,t){return Object(u.jsx)(w,{product:e},t)}))}),Object(u.jsx)("hr",{}),P>0&&P>=x&&Object(u.jsx)("button",{className:"btn btn-warning mb-5",onClick:H,children:"Load more"})]})]})})},B=function(){return Object(u.jsx)(s.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",exact:!0,component:k}),Object(u.jsx)(i.b,{path:"/shop",exact:!0,component:H}),Object(u.jsx)(i.b,{path:"/Signin",exact:!0,component:p}),Object(u.jsx)(i.b,{path:"/Signup",exact:!0,component:x}),Object(u.jsx)(T,{path:"/user/dashboard",exact:!0,component:A}),Object(u.jsx)(_,{path:"/admin/dashboard",exact:!0,component:D}),Object(u.jsx)(_,{path:"/create/category",exact:!0,component:E}),Object(u.jsx)(_,{path:"/create/product",exact:!0,component:$})]})})};r.a.render(Object(u.jsx)(B,{}),document.getElementById("root"))}},[[449,1,2]]]);
//# sourceMappingURL=main.0400cd9c.chunk.js.map