{"version":3,"sources":["config.js","auth/index.js","core/Menu.js","core/Layout.js","user/Signin.js","user/Signup.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","auth/PrivateRoute.js","auth/AdminRoute.js","user/UserDashboard.js","user/AdminDashboard.js","admin/AddCategory.js","admin/apiAdmin.js","admin/AddProduct.js","core/FixedPrice.js","core/CheckBox.js","core/RadioBox.js","core/Shop.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","className","style","to","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signin","useState","email","password","error","loading","redirectToReferrer","values","setValues","handleChange","name","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","signin","data","setItem","authenticate","display","type","onChange","Signup","success","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","Card","product","substring","price","Search","categories","category","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","undefined","searchSubmit","e","searchMessage","length","onSubmit","map","c","i","placeholder","border","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","PrivateRoute","Component","component","rest","render","props","state","from","AdminRoute","Dashboard","AdminDashboard","AddCategory","setName","setSuccess","token","userId","Authorization","createCategory","showSuccess","showError","autoFocus","AddProduct","shipping","quantity","photo","createdProduct","redirectToProfile","formData","init","FormData","files","set","createProduct","accept","prices","array","CheckBox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","splice","RadioBox","setValue","p","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","obj","find","parseInt","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0400cd9c.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;","import { API } from \"../config\";\r\n\r\nexport const signup = (user) => {\r\n    // console.log(name, email, password)\r\n    return fetch(`${API}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const signin = (user) => {\r\n    // console.log(name, email, password)\r\n    return fetch(`${API}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data));\r\n        next();\r\n    }\r\n}\r\n\r\nexport const signout = (next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        next();\r\n        return fetch(`${API}/signout`, {\r\n            method: 'GET',\r\n\r\n        })\r\n            .then(response => {\r\n                console.log('signout', response)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'))\r\n    } else {\r\n        return false;\r\n    }\r\n}","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth';\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: '#ff9900' }\r\n    } else {\r\n        return { color: '#ffffff' }\r\n    }\r\n}\r\n\r\nconst Menu = ({ history }) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-primary\">\r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" style={isActive(history, \"/\")} to=\"/\">\r\n                    Home\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" style={isActive(history, \"/shop\")} to=\"/shop\">\r\n                    Shop\r\n                </Link>\r\n            </li>\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history, \"/user/dashboard\")} to=\"/user/dashboard\">\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history, \"/admin/dashboard\")} to=\"/admin/dashboard\">\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n            {!isAuthenticated() && (\r\n                <>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" style={isActive(history, \"/Signin\")} to=\"/Signin\">\r\n                            Signin\r\n                </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" style={isActive(history, \"/Signup\")} to=\"/Signup\">\r\n                            Signup\r\n                </Link>\r\n                    </li>\r\n                </>\r\n            )}\r\n            {isAuthenticated() && (\r\n                <li className=\"nav-item\">\r\n                    <span className=\"nav-link\" style={{ cursor: 'pointer', color: '#ffffff' }} onClick={() => signout(() => {\r\n                        history.push('/')\r\n                    })}>\r\n                        Signout\r\n                </span>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    </div>\r\n)\r\n\r\nexport default withRouter(Menu);","import React from 'react';\r\nimport Menu from './Menu';\r\nimport '../styles.css'\r\n\r\nconst Layout = ({ title = \"\", description = \"\", className, children }) => (\r\n    <div>\r\n        <Menu />\r\n        <div className=\"jumbotron\">\r\n            <h2>{title}</h2>\r\n            <p className=\"lead\">{description}</p>\r\n        </div>\r\n        <div className={className}>{children}</div>\r\n    </div>\r\n)\r\n\r\nexport default Layout;","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\nimport { computeHeadingLevel } from '@testing-library/dom';\r\n\r\n\r\nconst Signin = () => {\r\n    const [values, setValues] = useState({\r\n        email: 'ps102646@gmail.com',\r\n        password: 'ps102640',\r\n        error: \"\",\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    })\r\n\r\n    const { email, password, loading, error, redirectToReferrer } = values\r\n    const { user } = isAuthenticated()\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({ ...values, error: false, loading: true })\r\n        signin({ email, password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, loading: false })\r\n                } else {\r\n                    authenticate(\r\n                        data, () => {\r\n                            setValues({\r\n                                ...values,\r\n                                redirectToReferrer: true,\r\n                            })\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    const signupForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" value={email} onChange={handleChange('email')} className=\"form-control\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" value={password} onChange={handleChange('password')} className=\"form-control\" />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? \"\" : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showLoading = () => (\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n                <h2>loading...</h2>\r\n            </div>)\r\n    )\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />;\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />;\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n    }\r\n    return (\r\n        <Layout title=\"Signin Page\" description=\"React\" className=\"container col-md-8 offset-md-2\">\r\n            {showLoading()}\r\n            {showError()}\r\n            {signupForm()}\r\n            {redirectUser()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Signin;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport { signup } from \"../auth\";\r\n\r\n\r\nconst Signup = () => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        success: false\r\n    })\r\n\r\n    const { name, email, password, success, error } = values\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({ ...values, error: false })\r\n        signup({ name, email, password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, success: false })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: \"\",\r\n                        email: \"\",\r\n                        password: \"\",\r\n                        error: \"\",\r\n                        success: true\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    const signupForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" value={name} onChange={handleChange('name')} className=\"form-control\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" value={email} onChange={handleChange('email')} className=\"form-control\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" value={password} onChange={handleChange('password')} className=\"form-control\" />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? \"\" : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? \"\" : 'none' }}>\r\n            New account is created. Please <Link to=\"/signin\">signin</Link>\r\n        </div>\r\n    )\r\n    return (\r\n        <Layout title=\"Signup Page\" description=\"React\" className=\"container col-md-8 offset-md-2\">\r\n            {showSuccess()}\r\n            {showError()}\r\n            {signupForm()}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Signup;","import { API } from \"../config\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const getProducts = (sortBy) => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n        method: \"GET\",\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\",\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n    const data = {\r\n        skip, limit, filters\r\n    }\r\n    // console.log(name, email, password)\r\n    return fetch(`${API}/products/by/search`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const list = params => {\r\n    const query = queryString.stringify(params)\r\n    return fetch(`${API}/products/search?${query}`, {\r\n        method: \"GET\",\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n","import React from 'react'\r\nimport { API } from '../config'\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n    <div className=\"product-img\">\r\n        <img src={`${API}/${url}/photo/${item._id}`} alt={item.name} className=\"mb-3\" style={{ maxHeight: '100%', maxWidth: '100%' }} />\r\n    </div>\r\n)\r\n\r\nexport default ShowImage;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\n\r\nconst Card = ({ product }) => {\r\n    return (\r\n        <div className=\"col-4 mb-3\">\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    {product.name}\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <ShowImage item={product} url=\"product\" />\r\n                    <p>{product.description.substring(0, 50)}</p>\r\n                    <p>${product.price}</p>\r\n                    <Link to=\"/\">\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2 mr-2\">\r\n                            View Product\r\n                        </button>\r\n                    </Link>\r\n                    <button className=\"btn btn-outline-warning mt-2 mb-2\">\r\n                        Add to card\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { getCategories, list } from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst Search = () => {\r\n    const [data, setData] = useState({\r\n        categories: [],\r\n        category: '',\r\n        search: '',\r\n        results: [],\r\n        searched: false\r\n    })\r\n\r\n    const { categories, category, search, results, searched } = data;\r\n\r\n    const loadCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setData({ ...data, categories: data })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const searchData = () => {\r\n        if (search) {\r\n            list({ search: search || undefined, category: category })\r\n                .then(response => {\r\n                    if (response.error) {\r\n                        console.log(response.error)\r\n                    } else {\r\n                        setData({ ...data, results: response, searched: true })\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const searchSubmit = (e) => {\r\n        e.preventDefault();\r\n        searchData();\r\n    }\r\n\r\n    const handleChange = name => event => {\r\n        setData({ ...data, [name]: event.target.value, searched: false })\r\n    }\r\n\r\n    const searchMessage = (searched, results) => {\r\n        if (searched && results.length > 0) {\r\n            return `Found ${results.length} products`\r\n        }\r\n        if (searched && results.length < 1) {\r\n            return `No products found`\r\n        }\r\n    }\r\n\r\n    const searchedProducts = (results = []) => {\r\n        return (\r\n            <div>\r\n                <h2 className=\"mr-4 mb-4\">\r\n                    {searchMessage(searched, results)}\r\n                </h2>\r\n                <div className=\"row\">\r\n                    {results.map((product, i) => (\r\n                        <Card key={i} product={product} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    const searchForm = () => (\r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text\">\r\n                <div className=\"input-group input-group-lg\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <select className=\"btn mr-2\" onChange={handleChange(\"category\")}>\r\n                            <option value=\"All\">Pick Category</option>\r\n                            {categories.map((c, i) => (\r\n                                <option key={i} value={c._id}>{c.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <input type=\"search\" className=\"form-control\" onChange={handleChange(\"search\")} placeholder=\"Search by name\" />\r\n                </div>\r\n                <div className=\"btn input-group-append\" style={{ border: 'none' }}>\r\n                    <button className=\"input-group-text\">\r\n                        Search\r\n                    </button>\r\n                </div>\r\n            </span>\r\n        </form>\r\n    )\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"container mb-3\">\r\n                {searchForm()}\r\n            </div>\r\n            <div className=\"container-fluid mb-3\">\r\n                {searchedProducts(results)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { getProducts } from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\n\r\nconst Home = () => {\r\n    const [productsBySell, setProductsBySell] = useState([])\r\n    const [productsByArrival, setProductsByArrival] = useState([])\r\n    const [error, setError] = useState(false)\r\n\r\n    const loadProductsBySell = () => {\r\n        getProducts('sold').then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setProductsBySell(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadProductsByArrival = () => {\r\n        getProducts('createdAt').then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setProductsByArrival(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadProductsByArrival();\r\n        loadProductsBySell();\r\n    }, [])\r\n\r\n    return (\r\n        <Layout title=\"Home Page\" description=\"React\" className=\"container-fluid\">\r\n            <Search />\r\n            <h2 className=\"mb-4\">New Arrivals</h2>\r\n            <div className=\"row\">\r\n                {productsByArrival.map((product, i) => (\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n\r\n            <h2 className=\"mb-4\">Best Sellers</h2>\r\n            <div className=\"row\">\r\n                {productsBySell.map((product, i) => (\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location }\r\n        }}\r\n        />\r\n    )}\r\n    />\r\n);\r\n\r\nexport default PrivateRoute;","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location }\r\n        }}\r\n        />\r\n    )}\r\n    />\r\n);\r\n\r\nexport default AdminRoute;","import React from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom'\r\nconst Dashboard = () => {\r\n\r\n    const { user: { _id, name, email, role } } = isAuthenticated()\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/cart\">My Cart</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/profile/update\">Update Profile</Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">{role === 1 ? 'Admin' : 'Registerd User'}</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const purchaseHistory = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Purchase history</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">history</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description={`Hello ${name}!`} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    {userLinks()}\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    {userInfo()}\r\n                    {purchaseHistory()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst AdminDashboard = () => {\r\n\r\n    const { user: { _id, name, email, role } } = isAuthenticated()\r\n\r\n    const adminLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">Admin Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/category\">Create Category</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/product\">Create Product</Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const adminInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">{role === 1 ? 'Admin' : 'Registerd User'}</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description={`Hello ${name}!`} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\"> {adminLinks()} </div>\r\n                <div className=\"col-9\"> {adminInfo()} </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AdminDashboard;","import React, { useState } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createCategory } from './apiAdmin';\r\n\r\nconst AddCategory = () => {\r\n    const [name, setName] = useState(\"\")\r\n    const [error, setError] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n\r\n    // destructure user and token from localstorage\r\n    const { user, token } = isAuthenticated()\r\n\r\n    const handleChange = (e) => {\r\n        setError(\"\")\r\n        setName(e.target.value)\r\n    }\r\n\r\n    const clickSubmit = (e) => {\r\n        e.preventDefault()\r\n        setError(\"\")\r\n        setSuccess(false)\r\n        // make request to api to create category\r\n        createCategory(user._id, token, { name })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(data.error)\r\n                } else {\r\n                    setError(\"\")\r\n                    setSuccess(true)\r\n                }\r\n            })\r\n    }\r\n\r\n    const newCategoryForm = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" className=\"form-control\" onChange={handleChange} value={name} autoFocus />\r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Category</button>\r\n        </form>\r\n    )\r\n\r\n    const showSuccess = () => {\r\n        if (success) {\r\n            return <h3 className=\"text-success\">{name} is created</h3>\r\n        }\r\n    }\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger\">Category is should be unique</h3>\r\n        }\r\n    }\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <Layout title=\"Add a new category\" description={`Hello ${user.name}, ready to add a new category`}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryForm()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddCategory;","import { API } from \"../config\";\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    // console.log(name, email, password)\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\",\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err))\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createProduct, getCategories } from './apiAdmin';\r\n\r\nconst AddProduct = () => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        shipping: \"\",\r\n        quantity: \"\",\r\n        photo: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdProduct: \"\",\r\n        redirectToProfile: false,\r\n        formData: \"\"\r\n    })\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        category,\r\n        shipping,\r\n        quantity,\r\n        photo,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    // load categories and set form data\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error })\r\n            } else {\r\n                setValues({ ...values, categories: data, formData: new FormData() })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value)\r\n        // for (var key of formData.entries()) {\r\n        //     console.log(key[0] + ', ' + key[1]);\r\n        // }\r\n        setValues({ ...values, [name]: value });\r\n\r\n    }\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true })\r\n        createProduct(user._id, token, formData)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error })\r\n                } else {\r\n                    setValues({ ...values, name: \"\", description: \"\", photo: \"\", price: \"\", quantity: \"\", loading: false, createdProduct: data.name })\r\n                }\r\n            })\r\n    }\r\n\r\n    const newPostForm = () => (\r\n        <form onSubmit={clickSubmit} className=\"mb-3\">\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    {categories && categories.map((c, i) => (\r\n                        <option key={i} value={c._id}>{c.name}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary\">\r\n                Create Product\r\n            </button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdProduct ? '' : 'none' }}>\r\n            <h2>{`${createdProduct}`} is created !</h2>\r\n        </div>\r\n    )\r\n\r\n    const showLoading = () => (\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>loading...</h2>\r\n            </div>\r\n        )\r\n    )\r\n\r\n    return (\r\n        <Layout title=\"Add a new product\" description={`Hello ${user.name}, ready to add a new product`}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AddProduct;","export const prices = [\r\n    {\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"$0 to $9\",\r\n        array: [0, 9]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"$10 to $19\",\r\n        array: [10, 19]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"$20 to $29\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"$30 to $39\",\r\n        array: [30, 39]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"$More than $40\",\r\n        array: [40, 100000000]\r\n    },\r\n]","import React, { useState, useEffect } from 'react';\r\n\r\nconst CheckBox = ({ categories, handleFilters }) => {\r\n    const [checked, setChecked] = useState([])\r\n\r\n    const handleToggle = c => () => {\r\n        const currentCategoryId = checked.indexOf(c)  // return the first index or -1\r\n        const newCheckedCategoryId = [...checked]\r\n        // if currently checked was not already in checked state > push\r\n        //else pull/take off\r\n        if (currentCategoryId === -1) {\r\n            newCheckedCategoryId.push(c)\r\n        } else {\r\n            newCheckedCategoryId.splice(currentCategoryId, 1)\r\n        }\r\n        setChecked(newCheckedCategoryId)\r\n        handleFilters(newCheckedCategoryId)\r\n    }\r\n\r\n    return categories.map((c, i) => (\r\n        <li key={i} className=\"list-unstyled\">\r\n            <input type=\"checkbox\" className=\"form-check-input\" value={checked.indexOf(c._id === -1)} onChange={handleToggle(c._id)} />\r\n            <label className=\"form-check-label\">{c.name}</label>\r\n        </li>\r\n    ))\r\n}\r\n\r\nexport default CheckBox;","import React, { useState, useEffect, Fragment } from 'react';\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n    const [value, setValue] = useState(0)\r\n\r\n    const handleChange = (event) => {\r\n        handleFilters(event.target.value)\r\n        setValue(event.target.value)\r\n    }\r\n    return prices.map((p, i) => (\r\n        <div key={i}>\r\n            <input type=\"radio\" className=\"mr-2 ml-4\" name={p} value={`${p._id}`} onChange={handleChange} />\r\n            <label className=\"form-check-label\">{p.name}</label>\r\n        </div>\r\n    ))\r\n}\r\n\r\nexport default RadioBox;","import React, { useState, useEffect } from 'react';\r\nimport { getCategories, getFilteredProducts } from './apiCore';\r\nimport { prices } from './FixedPrice';\r\nimport Layout from './Layout';\r\nimport Card from './Card';\r\nimport CheckBox from './CheckBox';\r\nimport RadioBox from './RadioBox';\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters: { category: [], price: [] }\r\n    })\r\n    const [categories, setCategories] = useState([])\r\n    const [error, setError] = useState(false)\r\n    const [limit, setLimit] = useState(6)\r\n    const [skip, setSkip] = useState(0)\r\n    const [size, setSize] = useState(0)\r\n    const [filteredResults, setFilteredResults] = useState([])\r\n\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setCategories(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadFilteredResults = (newFilters) => {\r\n        // console.log(newFilters)\r\n        getFilteredProducts(skip, limit, newFilters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                console.log(data.data)\r\n                setFilteredResults(data.data);\r\n                setSize(data.size);\r\n                setSkip(0);\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadMore = () => {\r\n        let toSkip = skip + limit\r\n        // console.log(newFilters)\r\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setFilteredResults([...filteredResults, ...data.data]);\r\n                setSize(data.size);\r\n                setSkip(toSkip);\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadMoreButton = () => {\r\n        return (\r\n            size > 0 && size >= limit && (\r\n                <button className=\"btn btn-warning mb-5\" onClick={loadMore}>\r\n                    Load more\r\n                </button>\r\n            )\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        init();\r\n        loadFilteredResults(skip, limit, myFilters.filters);\r\n    }, []);\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        const newFilters = { ...myFilters }\r\n        newFilters.filters[filterBy] = filters\r\n\r\n        if (filterBy === \"price\") {\r\n            let priceValues = handlePrice(filters)\r\n            newFilters.filters[filterBy] = priceValues\r\n        }\r\n        loadFilteredResults(myFilters.filters)\r\n        setMyFilters(newFilters)\r\n    }\r\n\r\n    const handlePrice = value => {\r\n        const data = prices\r\n        let array = []\r\n\r\n        const obj = data.find(item => item._id === parseInt(value))\r\n        array = data[obj._id].array\r\n        // for (let key in data) {\r\n        //     if (data[key]._id === parseInt(value)) {\r\n        //         array = data[key].array\r\n        //     }\r\n        // }\r\n        return array;\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Shop Page\" description=\"Search and find books of your choice\" className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                    <h4>Filter by categories</h4>\r\n                    <ul>\r\n                        <CheckBox categories={categories} handleFilters={filters => handleFilters(filters, 'category')} />\r\n                    </ul>\r\n                    <h4>Filter by prices range</h4>\r\n                    <div>\r\n                        <RadioBox prices={prices} handleFilters={filters => handleFilters(filters, 'price')} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-8\">\r\n                    <h2 className=\"mb-4\">Products</h2>\r\n                    <div className=\"row\">\r\n                        {filteredResults.map((product, i) => (\r\n                            <Card key={i} product={product} />\r\n                        ))}\r\n                    </div>\r\n                    <hr />\r\n                    {loadMoreButton()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Shop;","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Signin from './user/Signin';\r\nimport Signup from './user/Signup';\r\nimport Home from './core/Home';\r\nimport PrivateRoute from './auth/PrivateRoute'\r\nimport AdminRoute from './auth/AdminRoute'\r\nimport Dashboard from './user/UserDashboard'\r\nimport AdminDashboard from './user/AdminDashboard'\r\nimport AddCategory from './admin/AddCategory'\r\nimport AddProduct from './admin/AddProduct'\r\nimport Shop from './core/Shop';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Home} />\r\n                <Route path=\"/shop\" exact component={Shop} />\r\n                <Route path=\"/Signin\" exact component={Signin} />\r\n                <Route path=\"/Signup\" exact component={Signup} />\r\n                <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n                <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n                <AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n                <AdminRoute path=\"/create/product\" exact component={AddProduct} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './Routes';\n\nReactDOM.render(\n  <Routes />, document.getElementById('root')\n);"],"sourceRoot":""}